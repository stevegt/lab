Mime-Version: 1.0
Content-Transfer-Encoding: quoted-printable
In: example.md, ledger-ebnf.plantuml, example.ledger, main.go
Out: main.go

'go run main.go' produces the following output.  replace the debug
print statements with Debug() calls.


Parsing ledger file: example.ledger
Processing line: 2023/01/01 * Initial Balances
Current date set to: 2023/01/01
Processing line:     Alice:Asset:Alice-coins            D 1000 Alice-coins
Parsed entry: {2023/01/01 Alice:Asset:Alice-coins D 1000 Alice-coins}
Updated balance sheet for party: Alice
Processing line:     Alice:Equity:Alice-coins           C 1000 Alice-coins
Parsed entry: {2023/01/01 Alice:Equity:Alice-coins C 1000 Alice-coins}
Updated balance sheet for party: Alice
Processing line:     Bob:Asset:Bob-coins                D 500 Bob-coins
Parsed entry: {2023/01/01 Bob:Asset:Bob-coins D 500 Bob-coins}
Updated balance sheet for party: Bob
Processing line:     Bob:Equity:Bob-coins               C 500 Bob-coins
Parsed entry: {2023/01/01 Bob:Equity:Bob-coins C 500 Bob-coins}
Updated balance sheet for party: Bob
Processing line: 2023/01/02 * After Match (Promise Accepted)
Current date set to: 2023/01/02
Processing line:     Alice:Asset:Alice-coins            D 1000 Alice-coins
Parsed entry: {2023/01/02 Alice:Asset:Alice-coins D 1000 Alice-coins}
Updated balance sheet for party: Alice
Processing line:     Alice:Liability:PromiseX           C 1 PromiseX
Parsed entry: {2023/01/02 Alice:Liability:PromiseX C 1 PromiseX}
Updated balance sheet for party: Alice
Processing line:     Alice:Equity:Alice-coins           C 1000 Alice-coins
Parsed entry: {2023/01/02 Alice:Equity:Alice-coins C 1000 Alice-coins}
Updated balance sheet for party: Alice
Processing line:     Alice:Equity:PromiseX              C 1 PromiseX
Parsed entry: {2023/01/02 Alice:Equity:PromiseX C 1 PromiseX}
Updated balance sheet for party: Alice
Processing line:     Bob:Asset:Bob-coins                D 500 Bob-coins
Parsed entry: {2023/01/02 Bob:Asset:Bob-coins D 500 Bob-coins}
Updated balance sheet for party: Bob
Processing line:     Bob:Asset:PromiseX                 D 1 PromiseX
Parsed entry: {2023/01/02 Bob:Asset:PromiseX D 1 PromiseX}
Updated balance sheet for party: Bob
Processing line:     Bob:Liability:Bob-coins            C 100 Bob-coins
Parsed entry: {2023/01/02 Bob:Liability:Bob-coins C 100 Bob-coins}
Updated balance sheet for party: Bob
Processing line:     Bob:Equity:Bob-coins               C 400 Bob-coins
Parsed entry: {2023/01/02 Bob:Equity:Bob-coins C 400 Bob-coins}
Updated balance sheet for party: Bob
Processing line: 2023/01/03 * After Fulfillment Declaration (Promise Fulfilled)
Current date set to: 2023/01/03
Processing line:     Alice:Asset:Bob-coins              D 100 Bob-coins
Parsed entry: {2023/01/03 Alice:Asset:Bob-coins D 100 Bob-coins}
Updated balance sheet for party: Alice
Processing line:     Alice:Asset:Alice-coins            D 1000 Alice-coins
Parsed entry: {2023/01/03 Alice:Asset:Alice-coins D 1000 Alice-coins}
Updated balance sheet for party: Alice
Processing line:     Alice:Equity:Alice-coins           C 1000 Alice-coins
Parsed entry: {2023/01/03 Alice:Equity:Alice-coins C 1000 Alice-coins}
Updated balance sheet for party: Alice
Processing line:     Bob:Asset:Bob-coins                D 500 Bob-coins
Parsed entry: {2023/01/03 Bob:Asset:Bob-coins D 500 Bob-coins}
Updated balance sheet for party: Bob
Processing line:     Bob:Asset:PromiseX                 D 1 PromiseX
Parsed entry: {2023/01/03 Bob:Asset:PromiseX D 1 PromiseX}
Updated balance sheet for party: Bob
Processing line:     Bob:Liability:Bob-coins            D 100 Bob-coins
Parsed entry: {2023/01/03 Bob:Liability:Bob-coins D 100 Bob-coins}
Updated balance sheet for party: Bob
Processing line:     Bob:Equity:Bob-coins               C 400 Bob-coins
Parsed entry: {2023/01/03 Bob:Equity:Bob-coins C 400 Bob-coins}
Updated balance sheet for party: Bob
Printing balance sheet...
**Alice's Balance Sheet**
| **Assets (Debits)** | **Liabilities (Credits)** | **Equity** |
| --- | --- | --- |
| Alice-coins 3000.00 | | |
| Bob-coins 100.00 | | |
| | Alice-coins 3000.00 | |
| | PromiseX 2.00 | |
| **Total**: 3100.00 | **Total**: 3002.00 | **Total**: 0.00 |
Error: Assets != Liabilities + Equity

**Bob's Balance Sheet**
| **Assets (Debits)** | **Liabilities (Credits)** | **Equity** |
| --- | --- | --- |
| Bob-coins 1600.00 | | |
| PromiseX 2.00 | | |
| | Bob-coins 1400.00 | |
| **Total**: 1602.00 | **Total**: 1400.00 | **Total**: 0.00 |
Error: Assets != Liabilities + Equity

